---
layout: posts
title:  "2023.09.02 토요일"
date:   2023-09-02 21:00:00 +0900
categories: TIL
---
---
# SQL 제약 조건
SQL 제약 조건이란, 데이터에게 특정한 조건을 만족해야 한다고 명시해주는 것을 의미한다. 제약 조건을 건 데이터는 그에 맞춰 데이터의 형식 및 값을 검사하기 때문에 데이터의 무결성을 보장하는데 큰 역할을 한다.
## 기본 키 제약 조건
해당 행을 고유하게 식별할 수 있게 하겠다는 제약 조건이다. 따라서, 같은 값이 두 개 이상 존재할 수 없으며 주로 데이터를 가리키는 표지판 역할을 하는 id 값에 사용한다.
``` SQL
PRIMARY KEY -- 해당 키워드로 제약 조건을 걸 수 있다.
AUTO_INCREMENT -- 데이터베이스에서 알아서 증감시키면서 기본 키 값을 부여해준다.
```
## 고유 키 제약 조건
기본 키 제약 조건처럼 같은 값을 두 개 이상 가지지 못하게 하는 제약 조건이다. 하지만, 데이터의 주소 역할을 하는 id 같은 곳에 사용하지 않고 단순하게 고유한 데이터여야 하는 곳에 사용한다. 예를 들면, 아이디 및 이메일 등이 있다.
``` SQL
UNIQUE -- 해당 키워드로 제약 조건을 걸 수 있다.
```
## 외래 키 제약 조건
테이블과 테이블 사이의 관계를 나타내는 제약 조건이다. 특정 행을 참조하는 등 관계형 데이터베이스의 핵심이라고 할 수 있다.
``` SQL
FOREIGN KEY (테이블 내 데이터 이름) REFERENCES (참조 할 테이블 이름) ((데이터 이름))
```
### 연계 참조 무결성 제약 조건
외래 키 제약 조건으로 데이터를 참조할 때, 참조하던 데이터가 수정, 삭제 등 변경되면 할 행위를 정의해주는 것으로, 데이터의 무결성을 보장하는데 한층 더 도움을 준다.
1. CASCADE : 함께 삭제된다.
2. NO ACTION : 에러를 발생시킨다. 즉, 삭제를 방지한다.
3. SET NULL : 데이터를 NULL로 세팅한다.
4. SET DEFAULT : 기본 값으로 변경한다.
``` SQL
FOREIGN KEY (테이블 내 데이터 이름) REFERENCES (참조 할 테이블 이름) ((데이터 이름))
    ON UPDATE SET (키워드)
    ON DELETE SET (키워드)
```
## NULL 제약 조건
값이 반드시 존재해야 하거나, 존재하지 않게 해주는 제약 조건이다. 값을 반드시 포함해야 하는 데이터에 사용하며, 반대로 비어 있는 데이터를 명시적으로 표현할 때 사용하기도 한다.
``` SQL
NOT NULL -- 해당 키워드를 선언하면, 반드시 값이 있어야 한다.
```